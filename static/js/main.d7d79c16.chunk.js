(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(23)},15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),c=n(4),a=n.n(c),s=(n(15),n(2)),r=n(5),l=n(6),u=n(8),m=n(7),d=n(9),p=n(1),h=(n(17),n(19),n(21),function(e){return o.a.createElement("div",{className:"Form"},o.a.createElement("input",{id:"city",type:"text",name:"city",placeholder:"City or Zipcode"}),o.a.createElement("input",{id:"country",type:"text",name:"country",placeholder:"Country"}),o.a.createElement("input",{onClick:e.click,type:"submit",value:"Submit"}))}),f=function(e){return o.a.createElement("div",{className:"Weather"},o.a.createElement("p",null," The current temp in ",e.city," is ",e.temp,"\xb0",o.a.createElement("span",null,e.unit)),o.a.createElement("p",null,"Humidity: ",e.humidity,"%"),o.a.createElement("p",null," Sunrise: ",e.sunrise),o.a.createElement("p",null," Sunrise: ",e.sunset),o.a.createElement("p",null,"Wind: ",e.windDirection," ",e.windspeed," mph"),o.a.createElement("p",null," Pressure: ",e.pressure," inHg"),o.a.createElement("p",null,"Current Time: ",e.time))},g=function(e){return o.a.createElement("div",{className:"Unit"},o.a.createElement("div",{onClick:e.click}," \xb0C"),"\xa0/\xa0",o.a.createElement("div",{onClick:e.click}," \xb0F"))},v=function(e){return o.a.createElement("div",{id:"city".concat(e.id),className:"CityParentContainer",onMouseDown:e.lock,onTouchStart:e.lock,onMouseUp:e.move,onTouchEnd:e.move,onMouseMove:e.drag,onTouchMove:e.drag,onWheel:e.preventScroll},o.a.createElement("div",{className:"City"},o.a.createElement("div",{className:"cityContainerLeft"},o.a.createElement("div",{className:"cityTime"}," ",e.time),o.a.createElement("div",{className:"cityName"},e.city)),o.a.createElement("div",{className:"cityContainerRight"},o.a.createElement("p",null,e.temp,"\xb0"))),o.a.createElement("div",{onClick:e.click,onTouchStart:e.click,className:"deleteBtn"},"Delete"))},y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={temp:void 0,unit:"F",city:void 0,humidity:void 0,sunrise:void 0,sunset:void 0,windspeed:void 0,windDirection:void 0,precipitation:void 0,currentTime:void 0,gmtOffset:void 0,listOfCities:[]},n.currentTemp=function(e,t){var i,o,c,a=Object(p.a)(Object(p.a)(n));fetch("http://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&APPID=").concat("0777bd957ba30103a368d830dd41d177","&units=imperial")).then(function(e){return e.json()}).then(function(e){console.log(e),console.log(e.name),console.log(e.coord.lat),o=Object(s.a)(a.state.listOfCities),c={name:e.name,temp:e.main.temp,cityId:e.id},o.push(c),a.setState({listOfCities:o}),fetch("https://api.timezonedb.com/v2.1/get-time-zone?key=".concat("VCK638UD9DRA","&format=json&by=position&lat=").concat(e.coord.lat,"&lng=").concat(e.coord.lon)).then(function(e){return console.log(e),console.log("timezone"),e.json()}).then(function(e){i=e.gmtOffset,i/=3600,console.log(e),c.gmtOffset=i})})},n.secondsInterval=setInterval(function(){return n.updateTime2()},1e3),n.setUnit=function(e){var t,i,o=Object(s.a)(n.state.listOfCities);"\xb0F"===e.target.innerText?(t="F","C"===n.state.unit?(i=9*n.state.temp/5+32,o=o.map(function(e){return e.temp=9*e.temp/5+32,e})):i=n.state.temp):(t="C","F"===n.state.unit?(i=5*(n.state.temp-32)/9,o=o.map(function(e){return e.temp=5*(e.temp-32)/9,e})):i=n.state.temp),n.setState({temp:i,unit:t,listOfCities:o})},n.deleteCity=function(e){if(0!==e){var t=Object(s.a)(n.state.listOfCities);t.splice(e,1),n.setState({listOfCities:t})}},n.lock=function(e,t){console.log(document.getElementById("city".concat(e)).style.transform),console.log(e),console.log("djdnjdnjd");var i=t.changedTouches?t.changedTouches[0]:t;n.xAxisLocation=i.clientX,console.log(n.xAxisLocation),document.getElementById("city".concat(e)).style.transform="translate(0px)"},n.move=function(e,t){if(n.xAxisLocation||0===n.xAxisLocation){var i=(t.changedTouches?t.changedTouches[0]:t).clientX-n.xAxisLocation,o=(Math.sign(i),document.getElementById("city".concat(e)).style.transform);(o=o.match(/\d+/g)[0])<80&&(document.getElementById("city".concat(e)).style.transform="translate(0px)"),n.xAxisLocation=null}console.log(e),console.log(n.xAxisLocation)},n.preventScroll=function(e,t){t.preventDefault(),console.log("Whyis it scrolling?")},n.drag=function(e,t){if(t.preventDefault(),console.log("moving"),console.log(n.xAxisLocation),n.xAxisLocation||0===n.xAxisLocation){var i=t.changedTouches?t.changedTouches[0]:t;console.log(i.clientX);var o=Math.round(i.clientX-n.xAxisLocation);o<=-80&&(o=-80),o>=0&&(o=0),document.getElementById("city".concat(e)).style.transform="translate(".concat(o,"px)")}},n.fetchWeather=function(){var e,t,i,o,c,a,r,l=Object(p.a)(Object(p.a)(n)),u=document.getElementById("city").value,m="q",d=Object(s.a)(n.state.listOfCities),h={};/\d/.test(u)&&(m="zip");var f=document.getElementById("country").value;"united states"===f.toLowerCase()&&(f="us"),"F"===n.state.unit?(e="imperial",t="F"):(e="metric",t="C");fetch("http://api.openweathermap.org/data/2.5/weather?".concat(m,"=").concat(u,",").concat(f,"&APPID=").concat("0777bd957ba30103a368d830dd41d177","&units=").concat(e)).then(function(e){return e.json()}).then(function(e){if(void 0!==e.main){var n=e.main.temp;i=e.name,o=e.main.humidity,c=(e.main.pressure/33.863886666667).toFixed(2),fetch("https://api.timezonedb.com/v2.1/get-time-zone?key=".concat("VCK638UD9DRA","&format=json&by=position&lat=").concat(e.coord.lat,"&lng=").concat(e.coord.lon)).then(function(t){return a=e.sys.sunrise,console.log(t),console.log("timezone"),t.json()}).then(function(e){var t=new Date(1e3*a);r=e.gmtOffset,r/=3600,console.log(t);var n=("0"+t.getUTCHours()).slice(-2);n=parseInt(n),n+=r,console.log("The GMTOFFSET is ".concat(r)),h.gmtOffset=r,l.setState({gmtOffset:r});var i=n+":"+("0"+t.getUTCMinutes()).slice(-2);console.log(i)});var s=!1;h.name=i,h.temp=n,h.cityId=e.id,h.sunrise=e.sys.sunrise,h.sunset=e.sys.sunset,h.windspeed=e.wind.speed,h.windDirection=e.wind.deg,h.pressure=c,console.log("Motha Fucka ".concat(h)),console.log(h);for(var u=0;u<d.length;u++)if(console.log("cityId just search is ".concat(e.id)),console.log("blahBlah"),console.log(d[u].cityId),d[u].cityId===e.id){s=!0;break}!1===s&&d.push(h),l.setState({temp:n,unit:t,city:i,humidity:o,sunrise:e.sys.sunrise,sunset:e.sys.sunset,windspeed:e.wind.speed,windDirection:e.wind.deg,pressure:c,listOfCities:d})}})},n.showLocalTime=function(e){var t=new Date(n.state.currentTime),i=("0"+t.getUTCHours()).slice(-2);i=parseInt(i);var o="AM";return(i+=e)<0?(i=12+i,o="PM"):i>11&&(o="PM",0===(i-=12)&&(i=12)),i+":"+("0"+t.getUTCMinutes()).slice(-2)+o},n.xAxisLocation=null,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){console.log(t.coords.latitude),console.log(t.coords.longitude),e.currentTemp(t.coords.latitude,t.coords.longitude)}),setTimeout(function(){return setInterval(function(){return e.updateTime()},6e4)},6e4-1e3*(new Date).getSeconds())}},{key:"updateTime",value:function(){this.setState({currentTime:new Date})}},{key:"updateTime2",value:function(){0===(new Date).getSeconds()&&clearInterval(this.secondsInterval),this.setState({currentTime:new Date})}},{key:"unify",value:function(e){return e.changedTouches?e.changedTouches[0]:e}},{key:"render",value:function(){var e=this,t=new Date(1e3*this.state.sunrise),n=("0"+t.getUTCHours()).slice(-2);n=parseInt(n);var i="AM";(n+=this.state.gmtOffset)>11&&(i="PM",n-=12);var c=n+":"+("0"+t.getUTCMinutes()).slice(-2),a=new Date(1e3*this.state.sunset),s=("0"+a.getUTCHours()).slice(-2);s=parseInt(s);var r="PM";(s+=this.state.gmtOffset)<12?r="AM":s-=12;var l,u=s+":"+("0"+a.getUTCMinutes()).slice(-2),m=null,d=this.state.windDirection;l=d>348.75||d<=11.25?"E":d>11.25||d<=33.75?"NNE":d>33.75||d<=56.25?"NE":d>56.25||d<=78.75?"ENE":d>78.75||d<=101.25?"E":d>101.25||d<=123.75?"ESE":d>123.75||d<=146.25?"SE":d>146.25||d<=168.75?"SSE":d>168.75||d<=191.25?"S":d>191.25||d<=213.75?"SSW":d>213.75||d<=236.25?"SW":d>236.25||d<=258.75?"WSW":d>258.75||d<=281.25?"W":d>281.25||d<=303.75?"WNW":d>303.75||d<=326.25?"NW":"NNW",this.state.temp&&(m=o.a.createElement("div",null,o.a.createElement(f,{temp:Math.round(this.state.temp),unit:this.state.unit,city:this.state.city,humidity:this.state.humidity,sunrise:"".concat(c," ").concat(i),sunset:"".concat(u," ").concat(r),windspeed:Math.round(this.state.windspeed),windDirection:l,pressure:this.state.pressure,time:this.state.currentTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})));var p=o.a.createElement("div",null,this.state.listOfCities.map(function(t,n){return o.a.createElement(v,{city:t.name,temp:Math.round(t.temp),unit:e.state.unit,key:n,id:n,click:function(){return e.deleteCity(n)},time:e.showLocalTime(t.gmtOffset),lock:function(t){return e.lock(n,t)},move:function(t){return e.move(n,t)},drag:function(t){return e.drag(n,t)},preventScroll:function(t){return e.preventScroll(n,t)}})}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{class:"cityListContainer"},p),o.a.createElement(g,{click:this.setUnit}),o.a.createElement(h,{click:this.fetchWeather}),m)}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.d7d79c16.chunk.js.map