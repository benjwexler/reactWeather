(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(32)},19:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),a=n(6),o=n.n(a),s=(n(19),n(3)),r=n(7),l=n(8),u=n(12),d=n(9),m=n(13),h=n(2),p=(n(21),n(23),n(25),n(27),function(e){return c.a.createElement("div",{className:"Form"},c.a.createElement("div",{className:"inputContainer"},c.a.createElement("input",{id:"city",type:"text",name:"city",placeholder:"City or Zipcode"}),c.a.createElement("input",{id:"country",type:"text",name:"country",placeholder:"Country"}),c.a.createElement("span",{onClick:e.hideSearchScreen},"Cancel"),c.a.createElement("div",{className:"clearInputBtn",onClick:e.clearInput}," blah")),c.a.createElement("input",{onClick:e.click,type:"submit",value:"Submit"}))}),f=function(e){return c.a.createElement("div",{className:"Weather"},c.a.createElement("p",null," The current temp in ",e.city," is ",e.temp,"\xb0",c.a.createElement("span",null,e.unit)),c.a.createElement("p",null,"Humidity: ",e.humidity,"%"),c.a.createElement("p",null," Sunrise: ",e.sunrise),c.a.createElement("p",null," Sunrise: ",e.sunset),c.a.createElement("p",null,"Wind: ",e.windDirection," ",e.windspeed," mph"),c.a.createElement("p",null," Pressure: ",e.pressure," inHg"),c.a.createElement("p",null,"Current Time: ",e.time))},v=function(e){return c.a.createElement("div",{className:"Unit"},c.a.createElement("div",{className:"C"===e.currentUnit?"currentUnit":null,onClick:e.click}," \xb0C"),"\xa0/\xa0",c.a.createElement("div",{className:"F"===e.currentUnit?"currentUnit":null,onClick:e.click}," \xb0F"))},y=function(e){return c.a.createElement("div",{id:"city".concat(e.id),className:"CityParentContainer",onMouseDown:e.lock,onTouchStart:e.lock,onMouseUp:e.move,onTouchEnd:e.move,onMouseMove:e.drag,onTouchMove:e.drag,onWheel:e.preventScroll},c.a.createElement("div",{className:"City"},c.a.createElement("div",{className:"cityContainerLeft"},c.a.createElement("div",{className:"cityTime"}," ",e.time),c.a.createElement("div",{className:"cityName"},e.city)),c.a.createElement("div",{className:"cityContainerRight"},c.a.createElement("p",null,e.temp,"\xb0"))),c.a.createElement("div",{onClick:e.click,onTouchStart:e.click,className:"deleteBtn"},"Delete"))},g=n(10),E=n(11),w=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={temp:void 0,unit:"F",city:void 0,humidity:void 0,sunrise:void 0,sunset:void 0,windspeed:void 0,windDirection:void 0,precipitation:void 0,currentTime:void 0,gmtOffset:void 0,listOfCities:[],showSearchScreen:!1},n.currentTemp=function(e,t){var i,c,a,o=Object(h.a)(Object(h.a)(n));fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&APPID=").concat("0777bd957ba30103a368d830dd41d177","&units=imperial")).then(function(e){return e.json()}).then(function(e){console.log(e),console.log(e.name),console.log(e.coord.lat),c=Object(s.a)(o.state.listOfCities),a={name:e.name,temp:e.main.temp,cityId:e.id},c.push(a),o.setState({listOfCities:c}),fetch("https://api.timezonedb.com/v2.1/get-time-zone?key=".concat("VCK638UD9DRA","&format=json&by=position&lat=").concat(e.coord.lat,"&lng=").concat(e.coord.lon)).then(function(e){return console.log(e),console.log("timezone"),e.json()}).then(function(e){i=e.gmtOffset,i/=3600,console.log(e),a.gmtOffset=i})})},n.secondsInterval=setInterval(function(){return n.updateTime2()},1e3),n.setUnit=function(e){var t,i=Object(s.a)(n.state.listOfCities);"\xb0F"===e.target.innerText?(t="F","C"===n.state.unit?(9*n.state.temp/5+32,i=i.map(function(e){return e.temp=9*e.temp/5+32,e})):n.state.temp):(t="C","F"===n.state.unit?(5*(n.state.temp-32)/9,i=i.map(function(e){return e.temp=5*(e.temp-32)/9,e})):n.state.temp),n.setState({listOfCities:i,unit:t})},n.deleteCity=function(e){if(0!==e){var t=Object(s.a)(n.state.listOfCities);t.splice(e,1),n.setState({listOfCities:t})}},n.lock=function(e,t){document.body.style.position="fixed",console.log(document.getElementById("city".concat(e)).style.transform),console.log(e),console.log("djdnjdnjd");var i=t.changedTouches?t.changedTouches[0]:t;n.xAxisLocation=i.clientX,console.log(n.xAxisLocation),document.getElementById("city".concat(e)).style.transform="translate(0px)"},n.move=function(e,t){if(document.body.style.position="static",document.body.style.overflow="visible",n.xAxisLocation||0===n.xAxisLocation){var i=(t.changedTouches?t.changedTouches[0]:t).clientX-n.xAxisLocation,c=(Math.sign(i),document.getElementById("city".concat(e)).style.transform);(c=c.match(/\d+/g)[0])<80&&(document.getElementById("city".concat(e)).style.transform="translate(0px)"),n.xAxisLocation=null}},n.preventScroll=function(e,t){t.preventDefault(),console.log("Whyis it scrolling?")},n.drag=function(e,t){if(t.preventDefault(),0!==n.xAxisLocation&&(document.body.style.overflow="hidden"),n.xAxisLocation||0===n.xAxisLocation){var i=t.changedTouches?t.changedTouches[0]:t,c=Math.round(i.clientX-n.xAxisLocation);c<=-80&&(c=-80),c>=0&&(c=0),document.getElementById("city".concat(e)).style.transform="translate(".concat(c,"px)")}},n.updateCity=function(e){var t=n.state.nonsense;t++;var i,c=Object(h.a)(Object(h.a)(n)),a=Object(s.a)(n.state.listOfCities),o=e.cityId;"F"===n.state.unit?i="imperial":i="metric",fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(o,"&APPID=").concat("0777bd957ba30103a368d830dd41d177","&units=").concat(i)).then(function(e){return e.json()}).then(function(e){if(void 0!==e.main){var n=e.main.temp;console.log(n);for(var i=0;i<a.length;i++)if(a[i].cityId===o){a[i].temp=n;break}c.setState({listOfCities:a,nonsense:t})}})},n.fetchWeather=function(){var e,t,i,c,a,o,r,l=Object(h.a)(Object(h.a)(n)),u=document.getElementById("city").value,d="q",m=Object(s.a)(n.state.listOfCities),p={};/\d/.test(u)&&(d="zip");var f=document.getElementById("country").value;"united states"===f.toLowerCase()&&(f="us"),"F"===n.state.unit?(e="imperial",t="F"):(e="metric",t="C");var v=n.state.showSearchScreen;fetch("https://api.openweathermap.org/data/2.5/weather?".concat(d,"=").concat(u,",").concat(f,"&APPID=").concat("0777bd957ba30103a368d830dd41d177","&units=").concat(e)).then(function(e){return e.json()}).then(function(e){if(void 0!==e.main){v=!v;var n=e.main.temp;i=e.name,c=e.main.humidity,a=(e.main.pressure/33.863886666667).toFixed(2),fetch("https://api.timezonedb.com/v2.1/get-time-zone?key=".concat("VCK638UD9DRA","&format=json&by=position&lat=").concat(e.coord.lat,"&lng=").concat(e.coord.lon)).then(function(t){return o=e.sys.sunrise,console.log(t),console.log("timezone"),t.json()}).then(function(e){var t=new Date(1e3*o);r=e.gmtOffset,r/=3600,console.log(t);var n=("0"+t.getUTCHours()).slice(-2);n=parseInt(n),n+=r,console.log("The GMTOFFSET is ".concat(r)),p.gmtOffset=r,l.setState({gmtOffset:r});var i=n+":"+("0"+t.getUTCMinutes()).slice(-2);console.log(i)});var s=!1;p.name=i,p.temp=n,p.cityId=e.id,p.sunrise=e.sys.sunrise,p.sunset=e.sys.sunset,p.windspeed=e.wind.speed,p.windDirection=e.wind.deg,p.pressure=a,console.log("Motha Fucka ".concat(p)),console.log(p);for(var u=0;u<m.length;u++)if(console.log("cityId just search is ".concat(e.id)),console.log("blahBlah"),console.log(m[u].cityId),m[u].cityId===e.id){s=!0;break}!1===s&&m.push(p),setInterval(function(){return l.updateCity(p)},6e4),l.setState({temp:n,unit:t,city:i,humidity:c,sunrise:e.sys.sunrise,sunset:e.sys.sunset,windspeed:e.wind.speed,windDirection:e.wind.deg,pressure:a,listOfCities:m,showSearchScreen:v})}})},n.showLocalTime=function(e){var t=new Date(n.state.currentTime),i=("0"+t.getUTCHours()).slice(-2);i=parseInt(i);var c="AM";return(i+=e)<0?(i=12+i,c="PM"):i>11&&(c="PM",0===(i-=12)&&(i=12)),i+":"+("0"+t.getUTCMinutes()).slice(-2)+c},n.clearInput=function(){document.getElementById("city")&&(document.getElementById("city").value="",document.getElementById("country").value="")},n.clicker=function(){n.setState({showSearchScreen:!n.state.showSearchScreen})},n.xAxisLocation=null,n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){console.log(t.coords.latitude),console.log(t.coords.longitude),e.currentTemp(t.coords.latitude,t.coords.longitude)}),setTimeout(function(){return setInterval(function(){return e.updateTime()},6e4)},6e4-1e3*(new Date).getSeconds())}},{key:"updateTime",value:function(){this.setState({currentTime:new Date})}},{key:"updateTime2",value:function(){0===(new Date).getSeconds()&&clearInterval(this.secondsInterval),this.setState({currentTime:new Date})}},{key:"unify",value:function(e){return e.changedTouches?e.changedTouches[0]:e}},{key:"render",value:function(){var e=this,t=new Date(1e3*this.state.sunrise),n=("0"+t.getUTCHours()).slice(-2);n=parseInt(n);var i="AM";(n+=this.state.gmtOffset)>11&&(i="PM",n-=12);var a=n+":"+("0"+t.getUTCMinutes()).slice(-2),o=new Date(1e3*this.state.sunset),s=("0"+o.getUTCHours()).slice(-2);s=parseInt(s);var r="PM";(s+=this.state.gmtOffset)<12?r="AM":s-=12;var l,u=s+":"+("0"+o.getUTCMinutes()).slice(-2),d=null,m=this.state.windDirection;l=m>348.75||m<=11.25?"E":m>11.25||m<=33.75?"NNE":m>33.75||m<=56.25?"NE":m>56.25||m<=78.75?"ENE":m>78.75||m<=101.25?"E":m>101.25||m<=123.75?"ESE":m>123.75||m<=146.25?"SE":m>146.25||m<=168.75?"SSE":m>168.75||m<=191.25?"S":m>191.25||m<=213.75?"SSW":m>213.75||m<=236.25?"SW":m>236.25||m<=258.75?"WSW":m>258.75||m<=281.25?"W":m>281.25||m<=303.75?"WNW":m>303.75||m<=326.25?"NW":"NNW",this.state.temp&&(d=c.a.createElement("div",null,c.a.createElement(f,{temp:Math.round(this.state.temp),unit:this.state.unit,city:this.state.city,humidity:this.state.humidity,sunrise:"".concat(a," ").concat(i),sunset:"".concat(u," ").concat(r),windspeed:Math.round(this.state.windspeed),windDirection:l,pressure:this.state.pressure,time:this.state.currentTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})));var h,w=c.a.createElement("div",null,this.state.listOfCities.map(function(t,n){return c.a.createElement(y,{city:t.name,temp:Math.round(t.temp),unit:e.state.unit,key:n,id:n,click:function(){return e.deleteCity(n)},time:e.showLocalTime(t.gmtOffset),lock:function(t){return e.lock(n,t)},move:function(t){return e.move(n,t)},drag:function(t){return e.drag(n,t)},preventScroll:function(t){return e.preventScroll(n,t)}})}));!0===this.state.showSearchScreen?h="showScreen":(document.getElementById("city")&&(document.getElementById("city").value="",document.getElementById("country").value=""),h="hideScreen");var C=c.a.createElement("div",{className:h},c.a.createElement(p,{click:this.fetchWeather,hideSearchScreen:function(){return e.clicker()},clearInput:function(){return e.clearInput()}}));return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"cityListContainer"},w),c.a.createElement("div",{onClick:function(){return e.clicker()}},c.a.createElement(g.a,{icon:E.a})),c.a.createElement(v,{click:this.setUnit,currentUnit:this.state.unit}),C,d)}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}),document.ontouchmove=function(e){e.preventDefault()}}},[[14,2,1]]]);
//# sourceMappingURL=main.26980cd1.chunk.js.map